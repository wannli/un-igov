{% extends "base.html" %}
{% from "macros.html" import page_header, section_header, session_card, nav_card, preview_item, view_all_link, empty_state, next_meeting_preview %}
{% set page_title = "Home" %}

{% block content %}
{{ page_header(
  "Portal to the work of intergovernmental bodies",
  "Access official documents, meetings, and decisions from United Nations intergovernmental bodies."
) }}

<div class="mt-10">
  {{ section_header("Recent Activity") }}
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      {{ next_meeting_preview(next_meeting, ga_session_path, site) }}
    </div>
    <div>
      <h3 class="text-xl mb-3">Latest Meetings</h3>
      {% if recent_meetings %}
        <div class="preview-list">
          {% for meeting in recent_meetings %}
            {{ preview_item(
              site.base_url ~ ga_session_path ~ "/meetings/" ~ (meeting | meeting_url),
              meeting.MT_name or "Meeting",
              meeting.MT_dateTimeScheduleStart | datetime_format("%b %d, %Y"),
              meeting.MT_body
            ) }}
          {% endfor %}
        </div>
        {{ view_all_link(site.base_url ~ ga_session_path ~ "/meetings/index.html", "View all meetings") }}
      {% else %}
        {{ empty_state("No recent meetings available yet.") }}
      {% endif %}
    </div>
  </div>
</div>

<div class="mt-10">
  {{ section_header("Quick Access") }}
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    {{ nav_card(site.base_url ~ "ga/plenary/80/index.html", "calendar", "General Assembly", none, "Plenary and committees") }}
    {{ nav_card(site.base_url ~ "ecosoc/plenary/2026/index.html", "un-emblem", "ECOSOC", none, "Plenary and subsidiary bodies") }}
    {{ nav_card(site.base_url ~ "conferences/ffd4/2025/index.html", "document", "Conferences", none, "Major UN conferences") }}
  </div>
</div>
{% endblock %}
