{% extends "base.html" %}
{% set page_title = "Proposals" %}
{% block content %}
<div class="mb-4">
  <nav class="flex items-center gap-2 text-sm text-muted">
    <a href="{{ site.base_url }}index.html" class="hover:text-un-blue transition-colors">igov</a>
    <span>/</span>
    <span class="text-gray-700">GA</span>
    <span>/</span>
    <a href="{{ site.base_url }}ga/plenary/{{ session }}/proposals/index.html" class="text-gray-700 hover:text-un-blue transition-colors">Plenary</a>
    <span>/</span>
    <span class="text-gray-700">{{ session }}</span>
    <span>/</span>
    <span class="text-gray-900 font-medium">Proposals</span>
  </nav>
</div>

<div class="mb-6">
  <h1 class="text-3xl font-bold text-gray-900 tracking-tight">Proposals</h1>
</div>

<div class="space-y-4">
  {% for proposal in proposals %}
    <article class="border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors hover-lift bg-white">
      <div class="flex flex-col gap-2 md:flex-row md:items-start md:justify-between">
        <div class="flex-1 min-w-0">
          <div class="flex items-center gap-3 mb-2">
            {% if proposal.PR_AgendaItem %}
              <span class="text-[11px] font-semibold uppercase tracking-wide text-muted">Item {{ proposal.PR_AgendaItem }}</span>
            {% endif %}
            {% if proposal.PR_BodyOriginated %}
              <span class="px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-700">{{ proposal.PR_BodyOriginated }}</span>
            {% endif %}
          </div>
          <h2 class="text-lg font-medium text-gray-900">{{ proposal.PR_Title }}</h2>
          <div class="flex flex-wrap items-center gap-x-4 gap-y-1 mt-2 text-sm text-muted">
            <span>{{ proposal.PR_Session }}</span>
            {% if proposal.PR_MainSponsors %}
              <span>Sponsor: {{ proposal.PR_MainSponsors }}</span>
            {% endif %}
          </div>
        </div>
        {% if proposal.PR_Stage and proposal.PR_Stage[0].DocSymbol %}
          <div class="flex flex-col items-end gap-1 text-sm text-muted whitespace-nowrap flex-shrink-0">
            <span class="font-mono">{{ proposal.PR_Stage[0].DocSymbol }}</span>
            {% if proposal.PR_Stage[0].StageName %}
              <span class="text-xs">{{ proposal.PR_Stage[0].StageName }}</span>
            {% endif %}
          </div>
        {% endif %}
      </div>
    </article>
  {% else %}
    <div class="border border-gray-200 rounded-lg bg-gray-50 p-12 text-center">
      <p class="text-muted">No proposals data available yet.</p>
    </div>
  {% endfor %}
</div>
{% endblock %}
